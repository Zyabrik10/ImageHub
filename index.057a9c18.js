function e(e){return e.map((e=>`\n            <a href="${e.webformatURL}" class="gallery__link flex-container-item">\n                <img src="${e.webformatURL}" alt="${e.tags}" loading="lazy" data-source="${e.largeImageURL}" />\n                <div class="info">\n                    <p class="info-item">\n                        <b>Likes</b>\n                        ${e.likes}\n                    </p>\n                    <p class="info-item">\n                        <b>Views</b>\n                        ${e.views}\n                    </p>\n                    <p class="info-item">\n                        <b>Comments</b>\n                        ${e.comments}\n                    </p>\n                    <p class="info-item">\n                        <b>Downloads</b>\n                        ${e.downloads}\n                    </p>\n                </div>\n            </a>\n        `)).join("\n")}async function t(e,t=1){const n=new URLSearchParams({key:"35790595-0862ce34bbcdea66fb3b3d261",image_type:"photo",orientation:"horizontal",safesearch:!1,q:e,page:t,per_page:40});return await axios.get(`https://pixabay.com/api/?${n}`)}function n(e){document.querySelectorAll(e).forEach((e=>{e.addEventListener("click",(e=>e.preventDefault()))}))}const o=document.querySelector("#search-form"),i=document.querySelector("#search-form input"),a=document.querySelector(".gallery");document.querySelector(".load-more");let r,s=1,l="",c=!1,f=!1;o.addEventListener("submit",(async function(o){o.preventDefault();try{const o=i.value.trim(),u=await t(o),{data:m}=u;if(0===m.hits.length)return void Notiflix.Notify.info("Sorry, there are no images matching your search query. Please try again.");Notiflix.Notify.success(`Hooray! We found ${m.totalHits} images.`),l=o,c=!1,f=!1,s=1,m.totalHits>40&&(s+=1);const y=e(m.hits);a.innerHTML=y,n(".gallery__link"),r=new SimpleLightbox(".gallery a",{captionsData:"alt",captionDelay:250})}catch(e){Notiflix.Notify.failure("Oops! Something went wrong"),console.error(e)}})),addEventListener("scroll",_.throttle((()=>{window.scrollY+innerHeight>=a.scrollHeight?(!async function(){try{const o=await t(l,s),{data:i}=o;if(!f){if(i.totalHits<=40*(s-1)+i.hits.length&&c)return i.totalHits>=40&&Notiflix.Notify.info("We're sorry, but you've reached the end of search results."),void(f=!0);const t=e(i.hits);a.insertAdjacentHTML("beforeend",t),n(".gallery__link"),r.refresh(),s+=1}}catch(e){Notiflix.Notify.failure("Oops! Something went wrong"),console.error(e)}}(),c=!0):c=!1}),500));
//# sourceMappingURL=index.057a9c18.js.map
